{"version":3,"sources":["components/FilmsList/FilmList.module.css","components/Header/Header.module.css","components/FavoriteFilms/FavoriteFilms.module.css","components/FilmsList/FilmsList.js","App.js","store.js","components/Header/Header.js","components/FavoriteFilms/FavoriteFilms.js","components/Film/Film.js","index.js"],"names":["module","exports","FilmsList","film","dispatch","useDispatch","favoriteFilms","useSelector","state","favorites","favorite","Boolean","find","films","id","className","styles","filmCard","to","poster","src","poster_path","alt","filmCardTitle","title","style","textAlign","release_date","filmCardBtnAdded","filmCardBtn","onClick","type","payload","App","filmsList","search","useEffect","fetch","then","response","json","filmsInfo","results","catch","err","console","log","display","flexWrap","filter","toLowerCase","includes","map","store","createStore","oneFilm","action","isFavorite","favoriteFilm","localStorage","setItem","JSON","stringify","Header","fav","header","length","added","empty","placeholder","value","onChange","e","target","toLocaleLowerCase","FavoriteFilms","width","fontWeight","fontSize","padding","favoriteToShow","alignItems","maxWidth","minWidth","margin","Film","useParams","overview","ReactDOM","render","StrictMode","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.1d19ba09.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"poster\":\"FilmList_poster__F952f\",\"filmCard\":\"FilmList_filmCard__vh7vv\",\"filmCardTitle\":\"FilmList_filmCardTitle__1qpES\",\"filmCardBtn\":\"FilmList_filmCardBtn__3C_RQ\",\"filmCardBtnAdded\":\"FilmList_filmCardBtnAdded__2QDux\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2oXYg\",\"added\":\"Header_added__2ZETO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"favorite\":\"FavoriteFilms_favorite__1KSn5\"};","import React from \"react\";\r\nimport styles from \"../FilmsList/FilmList.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nexport default function FilmsList({ film }) {\r\n  const dispatch = useDispatch();\r\n  const favoriteFilms = useSelector((state) => state.favorites);\r\n  const favorite = Boolean(favoriteFilms.find((films) => films.id === film.id));\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.filmCard} key={film.id}>\r\n        <Link to={`/film/${film.id}`}>\r\n          <img\r\n            className={styles.poster}\r\n            src={`https://image.tmdb.org/t/p/w154/${film.poster_path}`}\r\n            alt=\"movie-poster\"\r\n          />{\" \"}\r\n        </Link>\r\n        <span className={styles.filmCardTitle}>{film.title}</span>\r\n        <br />\r\n        <span style={{ textAlign: \"center\" }}>{film.release_date}</span>\r\n        <button\r\n          className={!favorite ? styles.filmCardBtn : styles.filmCardBtnAdded}\r\n          onClick={() => {\r\n            dispatch({\r\n              type: \"addAndRemoveFromFavorites\",\r\n              payload: film,\r\n            });\r\n          }}\r\n        >\r\n          {!favorite ? \"Add to favorites\" : \"Remove\"}\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FilmsList from \"./components/FilmsList/FilmsList\";\n\nfunction App() {\n  const filmsList = useSelector((state) => state.films);\n  const dispatch = useDispatch({});\n  const search = useSelector((state) => state.search);\n  useEffect(() => {\n    fetch(\n      \"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=784670b75891833569bbe2ab5bd3808c\"\n    )\n      .then((response) => response.json())\n      .then((filmsInfo) =>\n        dispatch({ type: \"updateFilms\", payload: filmsInfo.results })\n      )\n      .catch((err) => console.log(err));\n  }, [dispatch]);\n\n  return (\n    <>\n      <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n        {filmsList\n          .filter((film) => film.title.toLowerCase().includes(search))\n          .map((film) => (\n            <FilmsList film={film} />\n          ))}\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import { createStore } from \"redux\";\r\n\r\nfunction reducer(\r\n  state = { films: [], oneFilm: [], favorites: [], search: \"\" },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case \"updateFilms\": {\r\n      return { ...state, films: action.payload };\r\n    }\r\n    case \"showOneFilm\": {\r\n      return { ...state, oneFilm: action.payload };\r\n    }\r\n    case \"addAndRemoveFromFavorites\": {\r\n      const isFavorite = Boolean(\r\n        state.favorites.find(\r\n          (favoriteFilm) => favoriteFilm.id === action.payload.id\r\n        )\r\n      );\r\n      if (!isFavorite) {\r\n        localStorage.setItem(\r\n          \"movies\",\r\n          JSON.stringify([...state.favorites, action.payload])\r\n        );\r\n        return {\r\n          ...state,\r\n          favorites: [...state.favorites, action.payload],\r\n        };\r\n      }\r\n      localStorage.setItem(\r\n        \"movies\",\r\n        JSON.stringify([...state.favorites, action.payload])\r\n      );\r\n      return {\r\n        ...state,\r\n        favorites: state.favorites.filter(\r\n          (film) => film.id !== action.payload.id\r\n        ),\r\n      };\r\n    }\r\n    case \"filmSearch\": {\r\n      return { ...state, search: action.payload };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nconst store = createStore(reducer);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styles from \"../Header/Header.module.css\";\r\nexport default function Header() {\r\n  const search = useSelector((state) => state.search);\r\n  const fav = useSelector((state) => state.favorites);\r\n  const dispatch = useDispatch();\r\n  console.log(fav);\r\n  return (\r\n    <>\r\n      <div className={styles.header}>\r\n        {\" \"}\r\n        <Link to=\"/favorites\">\r\n          {\" \"}\r\n          <h1 className={fav.length !== 0 ? styles.added : styles.empty}>\r\n            FavoriteFilms\r\n          </h1>\r\n        </Link>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search\"\r\n            value={search}\r\n            onChange={(e) => {\r\n              dispatch({\r\n                type: \"filmSearch\",\r\n                payload: `${e.target.value.toLocaleLowerCase()}`,\r\n              });\r\n            }}\r\n          ></input>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { React } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport styles from \"../FavoriteFilms/FavoriteFilms.module.css\";\r\nexport default function FavoriteFilms() {\r\n  const favoriteFilms = useSelector((state) => state.favorites);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className={styles.favorite}>\r\n      <span\r\n        style={{\r\n          width: \"100%\",\r\n          fontWeight: \"700\",\r\n          fontSize: \"20px\",\r\n          padding: \"10px\",\r\n        }}\r\n      >\r\n        <Link to=\"/\">Go back</Link>\r\n      </span>\r\n      {favoriteFilms.map((favoriteToShow) => {\r\n        return (\r\n          <>\r\n            <div\r\n              key={favoriteFilms.id}\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <div style={{ padding: \"0px 10px\" }}>\r\n                <img\r\n                  src={`https://image.tmdb.org/t/p/w154/${favoriteToShow.poster_path}`}\r\n                  alt=\"movie-poster\"\r\n                />\r\n              </div>\r\n\r\n              <div style={{ maxWidth: \"150px\", minWidth: \"150px\" }}>\r\n                <span>{favoriteToShow.title}</span>\r\n                <br />\r\n                <span>{favoriteToShow.release_date}</span>\r\n                <br />\r\n                <button\r\n                  onClick={() => {\r\n                    dispatch({\r\n                      type: \"addAndRemoveFromFavorites\",\r\n                      payload: favoriteToShow,\r\n                    });\r\n                  }}\r\n                  style={{ margin: \"10px 0\" }}\r\n                >\r\n                  Remove\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import { React, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Film() {\r\n  const { id } = useParams();\r\n  const oneFilm = useSelector((state) => state.oneFilm);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `https://api.themoviedb.org/3/movie/${id}?api_key=784670b75891833569bbe2ab5bd3808c`\r\n    )\r\n      .then((response) => response.json())\r\n      .then((film) => dispatch({ type: \"showOneFilm\", payload: film }));\r\n  }, [dispatch, id]);\r\n\r\n  return (\r\n    <div>\r\n      <>\r\n        <img\r\n          src={`https://image.tmdb.org/t/p/w154/${oneFilm.poster_path}`}\r\n          alt=\"movie-poster\"\r\n        />{\" \"}\r\n        <span>{oneFilm.title}</span>\r\n        <br />\r\n        <span>{oneFilm.overview}</span>\r\n        <Link to=\"/\">\r\n          {\" \"}\r\n          <button>Go back</button>\r\n        </Link>\r\n      </>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\nimport Header from \"./components/Header/Header\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport FavoriteFilms from \"./components/FavoriteFilms/FavoriteFilms\";\nimport Film from \"./components/Film/Film\";\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <Header />\n        <Route exact path=\"/\">\n          <App />\n        </Route>\n        <Route exact path=\"/favorites\">\n          <FavoriteFilms />\n        </Route>\n        <Route path=\"/film/:id\">\n          <Film />\n        </Route>\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}