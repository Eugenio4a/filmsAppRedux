(this["webpackJsonpfilm-app-redux"]=this["webpackJsonpfilm-app-redux"]||[]).push([[0],{12:function(e,t,c){e.exports={poster:"FilmList_poster__F952f",filmCard:"FilmList_filmCard__vh7vv",filmCardTitle:"FilmList_filmCardTitle__1qpES",filmCardBtn:"FilmList_filmCardBtn__3C_RQ",filmCardBtnAdded:"FilmList_filmCardBtnAdded__2QDux"}},15:function(e,t,c){e.exports={header:"Header_header__2oXYg",added:"Header_added__2ZETO"}},23:function(e,t,c){e.exports={favorite:"FavoriteFilms_favorite__1KSn5"}},36:function(e,t,c){"use strict";c.r(t);var a=c(0),i=c.n(a),n=c(14),r=c.n(n),s=c(4),o=c(12),d=c.n(o),l=c(9),j=c(1);function b(e){var t=e.film,c=Object(s.b)(),a=Object(s.c)((function(e){return e.favorites})),i=Boolean(a.find((function(e){return e.id===t.id})));return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:d.a.filmCard,children:[Object(j.jsxs)(l.b,{to:"/film/".concat(t.id),children:[Object(j.jsx)("img",{className:d.a.poster,src:"https://image.tmdb.org/t/p/w154/".concat(t.poster_path),alt:"movie-poster"})," "]}),Object(j.jsx)("span",{className:d.a.filmCardTitle,children:t.title}),Object(j.jsx)("br",{}),Object(j.jsx)("span",{style:{textAlign:"center"},children:t.release_date}),Object(j.jsx)("button",{className:i?d.a.filmCardBtnAdded:d.a.filmCardBtn,onClick:function(){c({type:"addAndRemoveFromFavorites",payload:t})},children:i?"Remove":"Add to favorites"})]},t.id)})}var f=function(){var e=Object(s.c)((function(e){return e.films})),t=Object(s.b)({}),c=Object(s.c)((function(e){return e.search}));return Object(a.useEffect)((function(){fetch("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=784670b75891833569bbe2ab5bd3808c").then((function(e){return e.json()})).then((function(e){return t({type:"updateFilms",payload:e.results})})).catch((function(e){return console.log(e)}))}),[t]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:e.filter((function(e){return e.title.toLowerCase().includes(c)})).map((function(e){return Object(j.jsx)(b,{film:e})}))})})},p=c(16),m=c(10),h=c(24);var O=Object(h.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{films:[],oneFilm:[],favorites:[],search:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateFilms":return Object(m.a)(Object(m.a)({},e),{},{films:t.payload});case"showOneFilm":return Object(m.a)(Object(m.a)({},e),{},{oneFilm:t.payload});case"addAndRemoveFromFavorites":var c=Boolean(e.favorites.find((function(e){return e.id===t.payload.id})));return c?(localStorage.setItem("movies",JSON.stringify([].concat(Object(p.a)(e.favorites),[t.payload]))),Object(m.a)(Object(m.a)({},e),{},{favorites:e.favorites.filter((function(e){return e.id!==t.payload.id}))})):(localStorage.setItem("movies",JSON.stringify([].concat(Object(p.a)(e.favorites),[t.payload]))),Object(m.a)(Object(m.a)({},e),{},{favorites:[].concat(Object(p.a)(e.favorites),[t.payload])}));case"filmSearch":return Object(m.a)(Object(m.a)({},e),{},{search:t.payload});default:return e}})),u=O,x=c(15),v=c.n(x);function y(){var e=Object(s.c)((function(e){return e.search})),t=Object(s.c)((function(e){return e.favorites})),c=Object(s.b)();return console.log(t),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:v.a.header,children:[" ",Object(j.jsxs)(l.b,{to:"/favorites",children:[" ",Object(j.jsx)("h1",{className:0!==t.length?v.a.added:v.a.empty,children:"FavoriteFilms"})]}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"text",placeholder:"Search",value:e,onChange:function(e){c({type:"filmSearch",payload:"".concat(e.target.value.toLocaleLowerCase())})}})})]})})}var g=c(3),_=c(23),F=c.n(_);function C(){var e=Object(s.c)((function(e){return e.favorites})),t=Object(s.b)();return Object(j.jsxs)("div",{className:F.a.favorite,children:[Object(j.jsx)("span",{style:{width:"100%",fontWeight:"700",fontSize:"20px",padding:"10px"},children:Object(j.jsx)(l.b,{to:"/",children:"Go back"})}),e.map((function(c){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(j.jsx)("div",{style:{padding:"0px 10px"},children:Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w154/".concat(c.poster_path),alt:"movie-poster"})}),Object(j.jsxs)("div",{style:{maxWidth:"150px",minWidth:"150px"},children:[Object(j.jsx)("span",{children:c.title}),Object(j.jsx)("br",{}),Object(j.jsx)("span",{children:c.release_date}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){t({type:"addAndRemoveFromFavorites",payload:c})},style:{margin:"10px 0"},children:"Remove"})]})]},e.id)})}))]})}function w(){var e=Object(g.e)().id,t=Object(s.c)((function(e){return e.oneFilm})),c=Object(s.b)();return Object(a.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=784670b75891833569bbe2ab5bd3808c")).then((function(e){return e.json()})).then((function(e){return c({type:"showOneFilm",payload:e})}))}),[c,e]),Object(j.jsx)("div",{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w154/".concat(t.poster_path),alt:"movie-poster"})," ",Object(j.jsx)("span",{children:t.title}),Object(j.jsx)("br",{}),Object(j.jsx)("span",{children:t.overview}),Object(j.jsxs)(l.b,{to:"/",children:[" ",Object(j.jsx)("button",{children:"Go back"})]})]})})}r.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(s.a,{store:u,children:Object(j.jsxs)(l.a,{children:[Object(j.jsx)(y,{}),Object(j.jsx)(g.a,{exact:!0,path:"/",children:Object(j.jsx)(f,{})}),Object(j.jsx)(g.a,{exact:!0,path:"/favorites",children:Object(j.jsx)(C,{})}),Object(j.jsx)(g.a,{path:"/film/:id",children:Object(j.jsx)(w,{})})]})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.1d19ba09.chunk.js.map